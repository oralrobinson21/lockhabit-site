<!doctype html>
<html lang="en">
<head>
  <!-- =========================================================
       LockHabit — Income & Budget Calculator (SEO + Accessible)
       ========================================================= -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Income Calculator • See Your Take-Home & Safe Lock Amount | LockHabit</title>
  <meta name="description" content="Free income calculator: choose weekly, bi-weekly, or monthly pay, estimate taxes, add your expenses, and see how much you can safely lock with LockHabit. Send the result to the demo and visualize growth."/>
  <meta name="theme-color" content="#6f7cff"/>

  <!-- Canonical -->
  <link rel="canonical" href="https://lockhabit.com/calculator.html"/>

  <!-- Social -->
  <meta property="og:type" content="website"/>
  <meta property="og:title" content="Income Calculator — Estimate Take-Home & Safe Lock Amount"/>
  <meta property="og:description" content="Pick pay frequency, estimate taxes, add expenses, and see how much you can safely lock. Send to the live demo."/>
  <meta property="og:url" content="https://lockhabit.com/calculator.html"/>
  <meta property="og:image" content="https://lockhabit.com/assets/og-image.svg"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="Income Calculator — Estimate Take-Home & Safe Lock Amount"/>
  <meta name="twitter:description" content="Weekly, bi-weekly, or monthly. See take-home, expenses, and suggested lock amount — then try it in the demo."/>
  <meta name="twitter:image" content="https://lockhabit.com/assets/og-image.svg"/>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>

  <!-- Favicons & PWA (optional) -->
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
  <link rel="alternate icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/assets/icon-192.png">
  <link rel="manifest" href="/manifest.webmanifest">

  <style>
    :root{
      --brand:#6f7cff; --brand2:#9c78ff; --bg:#0b0e1a;
      --panel:#ffffff; --panel2:#fbfcff;
      --ink:#0f172a; --ink2:#15213d; --muted:#5b6a86; --line:#e5e7f1;
      --green:#22c55e; --danger:#b42318; --amber:#f59e0b;
      --radius:18px; --radius-lg:24px;
      --shadow:0 24px 60px rgba(10,15,35,.18);
      --grad: radial-gradient(1400px 700px at 50% -200px, rgba(111,124,255,.20), transparent 60%),
              radial-gradient(1000px 600px at -10% 10%, rgba(156,120,255,.12), transparent 55%),
              #f6f8ff;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font:16px/1.6 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a,button{font-weight:700}
    .wrap{max-width:1100px;margin:0 auto;padding:20px}
    .header{position:sticky;top:0;z-index:40;backdrop-filter:blur(8px);background:rgba(255,255,255,.85);border-bottom:1px solid var(--line)}
    .row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:32px;height:32px}
    .word{font-weight:800}
    .btn{appearance:none;border:1px solid var(--line);background:#fff;padding:10px 14px;border-radius:12px;cursor:pointer}
    .btn.acc{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;border:0}
    .btn.ghost{background:transparent}
    .hero{background:var(--grad);border-bottom:1px solid var(--line);padding:28px 0}
    h1{margin:0 0 6px;font-size:32px}
    .sub{color:#3a4a66;margin:0}

    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;margin-top:16px}
    .card{background:#fff;border:1px solid var(--line);border-radius:22px;padding:18px;box-shadow:var(--shadow)}
    .card h3{margin:0 0 8px}
    .muted{color:#5b6a86}
    label.k{display:block;font-size:12px;color:#5b6a86;text-transform:uppercase;letter-spacing:.04em;margin-top:8px}
    input,select{width:100%;padding:12px;border:1px solid #dbe0ea;border-radius:12px;font-size:16px}
    .two{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .three{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
    .bar{height:10px;border-radius:999px;background:#edf0f6;overflow:hidden;border:1px solid #e5e8f1}
    .fill{height:100%;width:0;background:linear-gradient(90deg,var(--green),var(--brand));transition:width .5s ease}

    .kpi{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .box{background:var(--panel2);border:1px solid var(--line);border-radius:14px;padding:12px}
    .k{font-size:12px;color:#5b6a86;text-transform:uppercase;letter-spacing:.04em}
    .v{font-weight:800;font-size:20px;color:#0f1a34}
    .ok{color:#0b3b22;background:#eafff2;border:1px solid #c8f5d9;border-radius:10px;padding:8px 10px;font-weight:700;display:inline-block}
    .warn{color:#5a1111;background:#ffeceb;border:1px solid #ffd4cf;border-radius:10px;padding:8px 10px;font-weight:700;display:inline-block}
    .foot{color:#66758f;font-size:12px}

    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .pill{display:inline-flex;gap:8px;align-items:center;border:1px solid #dfe3ff;background:#f3f6ff;border-radius:999px;padding:6px 10px;font-weight:700}

    footer{margin:20px 0;color:#cbd5e1;font-size:12px;text-align:center}

    @media (max-width:980px){ .grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <!-- HEADER -->
  <div class="header">
    <div class="wrap row">
      <div class="brand">
        <svg class="logo" viewBox="0 0 120 120" aria-hidden="true">
          <defs><linearGradient id="lg" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#6f7cff"/><stop offset="100%" stop-color="#9c78ff"/></linearGradient></defs>
          <rect x="12" y="22" width="96" height="80" rx="18" fill="url(#lg)"/>
          <path d="M40 50c0-16 12-28 28-28s28 12 28 28" fill="none" stroke="#ffffff" stroke-width="8" stroke-linecap="round"/>
          <path d="M40 90V58" stroke="#ffffff" stroke-width="10" stroke-linecap="round"/>
          <path d="M40 90h26" stroke="#e7ecf8" stroke-width="8" stroke-linecap="round"/>
        </svg>
        <div class="word">LockHabit</div>
      </div>
      <div class="row" style="gap:8px">
        <a class="btn ghost" href="/">← Home</a>
        <a class="btn acc" href="/demo.html">Open Demo</a>
      </div>
    </div>
  </div>

  <!-- HERO -->
  <div class="hero">
    <div class="wrap">
      <h1>Income & Budget Calculator</h1>
      <p class="sub">Pick your pay frequency, estimate taxes, add expenses, and see how much you can safely lock. Then push the result into the live demo to visualize growth.</p>

      <div class="grid">
        <!-- LEFT: INPUTS -->
        <div class="card" id="inputs">
          <h3>1) Income</h3>
          <div class="two">
            <div>
              <label class="k">Input mode</label>
              <select id="incomeMode" aria-label="Income input mode">
                <option value="annual" selected>Annual salary (gross)</option>
                <option value="perPeriod">Per paycheck (gross)</option>
              </select>
            </div>
            <div>
              <label class="k">Pay frequency</label>
              <select id="payFreq" aria-label="Pay frequency">
                <option value="monthly">Monthly (12)</option>
                <option value="biweekly" selected>Bi-weekly (26)</option>
                <option value="weekly">Weekly (52)</option>
              </select>
            </div>
          </div>
          <label class="k" id="amtLabel">Annual gross income</label>
          <input id="grossIncome" type="number" min="0" step="100" value="60000" aria-describedby="amtHint"/>
          <div id="amtHint" class="foot" aria-live="polite">Tip: switch to “Per paycheck” if you know your check amount.</div>

          <div class="two" style="margin-top:8px">
            <div>
              <label class="k">State tax</label>
              <select id="statePct" aria-label="State tax">
                <option value="0" selected>No state / 0%</option>
                <option value="3">3%</option>
                <option value="5">5%</option>
                <option value="7">7%</option>
                <option value="9">9%</option>
              </select>
            </div>
            <div>
              <label class="k">Withholding options</label>
              <div class="two">
                <label style="display:flex;align-items:center;gap:8px">
                  <input id="fedExempt" type="checkbox"/> Fed exempt
                </label>
                <label style="display:flex;align-items:center;gap:8px">
                  <input id="ficaExempt" type="checkbox"/> FICA exempt
                </label>
              </div>
            </div>
          </div>

          <h3 style="margin-top:16px">2) Monthly expenses</h3>
          <div class="three">
            <div>
              <label class="k">Housing</label>
              <input id="expHousing" type="number" min="0" value="1400"/>
            </div>
            <div>
              <label class="k">Utilities & transport</label>
              <input id="expUtil" type="number" min="0" value="350"/>
            </div>
            <div>
              <label class="k">Other / cards / subs</label>
              <input id="expOther" type="number" min="0" value="300"/>
            </div>
          </div>

          <div class="cta">
            <button id="recalc" class="btn acc" type="button">Calculate</button>
            <span class="pill">Estimates only — actual taxes vary.</span>
          </div>
        </div>

        <!-- RIGHT: SNAPSHOT / OUTPUTS -->
        <div class="card" id="snapshot">
          <h3>Snapshot</h3>
          <div class="kpi">
            <div class="box">
              <div class="k">Per-paycheck take-home</div>
              <div class="v" id="outPerCheck">$0.00</div>
            </div>
            <div class="box">
              <div class="k">Monthly take-home</div>
              <div class="v" id="outTakeHome">$0.00</div>
            </div>
            <div class="box">
              <div class="k">Monthly expenses</div>
              <div class="v" id="outExpenses">$0.00</div>
            </div>
            <div class="box">
              <div class="k">Monthly surplus</div>
              <div class="v" id="outSurplus">$0.00</div>
            </div>
          </div>

          <div style="height:10px"></div>
          <div class="kpi">
            <div class="box">
              <div class="k">Suggested lock (safe)</div>
              <div class="v" id="outLockSafe">$0.00</div>
              <div class="foot">~20% of monthly take-home</div>
            </div>
            <div class="box">
              <div class="k">Suggested lock (aggressive)</div>
              <div class="v" id="outLockAgg">$0.00</div>
              <div class="foot">~80% of monthly surplus</div>
            </div>
          </div>

          <div style="height:10px"></div>
          <div class="k">Progress to monthly plan</div>
          <div class="bar"><div class="fill" id="barFill" style="width:0%"></div></div>
          <div class="row" style="margin-top:6px"><div class="foot">0%</div><div class="foot" id="barPct">0%</div></div>

          <div class="cta">
            <a id="sendToDemo" class="btn acc" href="/demo.html">Try this plan in the Demo</a>
            <button id="copyPlan" class="btn" type="button">Copy plan link</button>
          </div>

          <div class="foot" style="margin-top:10px">
            Disclaimer: This calculator provides estimates for illustration purposes only and is not tax or financial advice.
            Tax results depend on your location, filing status, allowances, deductions, and many other factors.
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>© <span id="yr"></span> LockHabit — Discipline Pays.</footer>

  <script>
    // ====== constants
    const PERIODS = { weekly: 52, biweekly: 26, monthly: 12 };

    // ====== small helpers
    const $ = (id)=>document.getElementById(id);
    const fmt = (n)=>Number(n||0).toLocaleString(undefined,{style:'currency',currency:'USD'});

    // ====== bind DOM
    const incomeMode = $('incomeMode');
    const payFreq    = $('payFreq');
    const grossInput = $('grossIncome');
    const amtLabel   = $('amtLabel');
    const amtHint    = $('amtHint');

    const statePct   = $('statePct');
    const fedExempt  = $('fedExempt');
    const ficaExempt = $('ficaExempt');

    const expHousing = $('expHousing');
    const expUtil    = $('expUtil');
    const expOther   = $('expOther');

    const outPerCheck  = $('outPerCheck');
    const outTakeHome  = $('outTakeHome');
    const outExpenses  = $('outExpenses');
    const outSurplus   = $('outSurplus');
    const outLockSafe  = $('outLockSafe');
    const outLockAgg   = $('outLockAgg');
    const barFill      = $('barFill');
    const barPct       = $('barPct');

    const sendToDemo = $('sendToDemo');
    const copyPlan   = $('copyPlan');

    $('yr').textContent = new Date().getFullYear();

    // ====== toggle label based on input mode
    function refreshIncomeModeUI(){
      if(incomeMode.value === 'perPeriod'){
        amtLabel.textContent = 'Gross per paycheck';
        amtHint.textContent  = 'We’ll multiply by the selected pay frequency to annualize.';
      }else{
        amtLabel.textContent = 'Annual gross income';
        amtHint.textContent  = 'Switch to “Per paycheck” if you know your check amount.';
      }
    }
    incomeMode.addEventListener('change', refreshIncomeModeUI);
    refreshIncomeModeUI();

    // ====== tax model (simple illustration)
    function estimateTaxes(annualGross, stateRate, isFICAExempt, isFedExempt){
      // FICA: Social Security + Medicare ≈ 7.65% employee share (illustrative)
      const fica = isFICAExempt ? 0 : annualGross * 0.0765;

      // Federal (toy progressive just for demo UX):
      // ~10% on first 22k, 12% on next 67k, 22% beyond (very simplified)
      let fed = 0;
      if(!isFedExempt){
        let g = Math.max(0, annualGross);
        const b1 = Math.min(g, 22000);        fed += b1 * 0.10; g -= b1;
        const b2 = Math.min(Math.max(g,0), 67000); fed += b2 * 0.12; g -= b2;
        if(g>0) fed += g * 0.22;
        // rough standard deduction effect (single) as a flat credit (illustrative)
        fed = Math.max(0, fed - 1800);
      }

      const state = annualGross * stateRate;

      return { fica, fed, state, total: fica + fed + state };
    }

    // ====== income normalization
    function annualGrossFromInputs(){
      const amt = Number(grossInput.value || 0);
      const freq = payFreq.value; // weekly|biweekly|monthly
      if(incomeMode.value === 'perPeriod'){
        return amt * PERIODS[freq];
      }
      return amt; // already annual
    }

    // ====== main recalc
    function recalc(){
      const freq = payFreq.value;
      const annualGross = annualGrossFromInputs();

      // taxes
      const stateRate = Number(statePct.value || 0) / 100;
      const taxes = estimateTaxes(annualGross, stateRate, ficaExempt.checked, fedExempt.checked);

      const monthlyGross = annualGross / 12;
      const monthlyTaxes = taxes.total / 12;
      const monthlyTakeHome = Math.max(0, monthlyGross - monthlyTaxes);

      const expenses = Number(expHousing.value||0) + Number(expUtil.value||0) + Number(expOther.value||0);
      const surplus  = Math.max(0, monthlyTakeHome - expenses);

      // suggestions
      const lockSafe = monthlyTakeHome * 0.20; // 20% of net
      const lockAgg  = surplus * 0.80;         // 80% of surplus

      // per-paycheck take-home
      const perCheckTakeHome = (monthlyTakeHome * 12) / PERIODS[freq];

      // UI
      outPerCheck.textContent = fmt(perCheckTakeHome);
      outTakeHome.textContent = fmt(monthlyTakeHome);
      outExpenses.textContent = fmt(expenses);
      outSurplus.textContent  = fmt(surplus);
      outLockSafe.textContent = fmt(lockSafe);
      outLockAgg.textContent  = fmt(lockAgg);

      // progress bar = percent of take-home we’re planning to “lock” (aggressive plan vs net)
      const pct = Math.max(0, Math.min(100, (lockAgg/(monthlyTakeHome||1))*100));
      barFill.style.width = pct.toFixed(0) + '%';
      barPct.textContent = pct.toFixed(0) + '%';

      // Build link to demo (we pass a monthly plan + frequency; demo can map to its sliders)
      // - init: a suggested first deposit = one pay period’s recommended saving (aggressive / periods)
      // - recurring: suggested per-period contribution
      const perPeriodRecurring = (lockAgg * 12) / PERIODS[freq]; // monthly->per-period
      const firstDeposit = Math.max(0, Math.round(perPeriodRecurring)); // simple seed

      const qs = new URLSearchParams({
        init: firstDeposit.toFixed(0),             // seed the first deposit
        recurring: perPeriodRecurring.toFixed(0),  // per-period plan
        freq: freq,                                // weekly|biweekly|monthly
        term: 12,                                  // default a year
        track: 'calculator'                        // for analytics
      }).toString();
      sendToDemo.href = `/demo.html?${qs}`;

      // copy link
      copyPlan.onclick = async ()=>{
        try{
          const url = location.origin + '/demo.html?' + qs;
          await navigator.clipboard.writeText(url);
          copyPlan.textContent = 'Copied!';
          setTimeout(()=>copyPlan.textContent='Copy plan link', 1200);
        }catch(_){
          alert('Copy failed. Long-press to copy the link after opening the Demo.');
        }
      };
    }

    // wire events
    ['input','change'].forEach(ev=>{
      [incomeMode,payFreq,grossInput,statePct,fedExempt,ficaExempt,expHousing,expUtil,expOther]
        .forEach(el=>el.addEventListener(ev, recalc));
    });
    $('recalc').addEventListener('click', recalc);

    // first run
    recalc();
  </script>
</body>
</html>